<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Owner Dashboard</title>
    <link rel="stylesheet" href="../assets/styles_shopOwner.css">
</head>
<body>
    <header>
        <h1>Shop Owner Dashboard</h1>
        <nav>
            <a href="add_product.html">Add New Product</a>
            <a href="orders.html">Manage Orders</a>
            <a href="bill_generator.html">Generate Bill</a>
            <a href="sales_report.html">Sales Report</a>
            <a href="../index.html" onclick="logout()">Logout</a>
        </nav>
    </header>

    <main>
        <section>
            <h2>Welcome, Shop Owner!</h2>
            <p>Manage your products, orders, and sales from here.</p>
        </section>

        <section>
            <h3>Recent Orders</h3>
            <table id="recent-orders">
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th>Customer Name</th>
                        <th>Total Amount</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Recent orders will be dynamically inserted here -->
                </tbody>
            </table>
        </section>

        <section>
            <h3>Product Inventory</h3>
            <table id="product-inventory">
                <thead>
                    <tr>
                        <th>Product Name</th>
                        <th>Price</th>
                        <th>Stock</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Products will be dynamically inserted here -->
                </tbody>
            </table>
        </section>
    </main>

    <script>
        // Simulating some initial data
        const orders = [
            { orderId: '1001', customerName: 'John Doe', totalAmount: 50.0, status: 'Shipped' },
            { orderId: '1002', customerName: 'Jane Smith', totalAmount: 25.5, status: 'Pending' },
            { orderId: '1003', customerName: 'Alice Brown', totalAmount: 120.99, status: 'Delivered' }
        ];

        const products = [
            { name: 'Product A', price: 20.0, stock: 100 },
            { name: 'Product B', price: 10.5, stock: 50 },
            { name: 'Product C', price: 40.75, stock: 30 }
        ];

        // Function to load recent orders into the table
        function loadRecentOrders() {
            const ordersTableBody = document.querySelector('#recent-orders tbody');
            orders.forEach(order => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.orderId}</td>
                    <td>${order.customerName}</td>
                    <td>$${order.totalAmount.toFixed(2)}</td>
                    <td>${order.status}</td>
                `;
                ordersTableBody.appendChild(row);
            });
        }

        // Function to load product inventory into the table
        function loadProductInventory() {
            const inventoryTableBody = document.querySelector('#product-inventory tbody');
            products.forEach(product => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${product.name}</td>
                    <td>$${product.price.toFixed(2)}</td>
                    <td>${product.stock}</td>
                    <td><a href="update_product.html">Update</a></td>
                `;
                inventoryTableBody.appendChild(row);
            });
        }

        // Load data on page load
        window.onload = function() {
            loadRecentOrders();
            loadProductInventory();
        };

        // Logout function
        function logout() {
            localStorage.removeItem("currentUser");
            window.location.href = "../index.html"; // Redirect to homepage on logout
        }
    </script>
</body>
</html>
